[{"id":1,"moduleId":"keadex-battisti","name":"Keadex Battisti","description":"<span class=\"text-brand1\">Keadex Battisti</span> represents the shell of Keadex, the way to describe it.<br/><br/>\n\nIt's the first Keadex released module: a <span class=\"text-brand1\">web client</span class=\"\"> based on Next.js integrated with Strapi, an <span class=\"text-brand1\">headless CMS</span> to retrieve contents and to dynamically create pages by using a low code platform.<br/><br/>\n\nThe <span class=\"text-brand1\">monorepo</span> (managed with Lerna) is made up of three packages:\n<ul>\n\t<li><span class=\"text-brand1\">cms</span>: contains the Strapi code. By default the contents are not versioned but in order to let you to run the demo with my contents, I've used the \"Strapi plugin content-export-import\" to export the contents. These are placed under <code>cms/content-snapshot</code> folder.<br/>\n<span class=\"text-brand1\">!!ATTENTION!!</span> <strong>This is not a good practice! Do not version your contents!</strong></li>\n\t<li><span class=\"text-brand1\">frontend</span>: contains the web client code</li>\n\t<li><span class=\"text-brand1\">mock</span>: contains the code of the GraphQL mock server to test and to develop the frontend without waiting for the backend integration</li>\n</ul>\n<br/>\n\nKeadex Battisti is used as a showcase of the Keadex platform but it can easily adapted to satisfy any need. The development of a CLI is planned in order to minimize the effort needed to initialize a web client with the Keadex Battisti features (check the roadmap to track the planned capabilities)<br/><br/>\n\nTo start the project:<br/>\n<ol>\n<li>clone the monorepo: <code>git clone https://github.com/keadex/keadex-battisti.git</code></li>\n<li>run <code>yarn install</code> under each package</li>\n<li>run <code>yarn install</code> under <code>cms/plugins/content-export-import</code> folder</li>\n<li>run <code>yarn build</code> under <strong>cms</strong> package.</li>\n<li>run <code>yarn dev</code> under <strong>cms</strong> package.</li>\n<li>import into Strapi demo contents from <code>cms/contents-snapshot</code> folder by using \"Strapi plugin content-export-import\"</li>\n<li>run <code>yarn dev</code> under <strong>frontend</strong> package</li>\n</ol>","roadmap":"&emsp;[X] Headless CMS integration: Strapi</br>\n&emsp;[&ensp;] Automated testing</br>\n&emsp;[&ensp;] Expose parameters to configure the web client</br>\n&emsp;[&ensp;] Build a CLI to quickly initialize from scratch the web client</br>\n","type":"ApplicationArchitecture","created_by":{"id":1,"firstname":"Jack","lastname":"Keadex","username":null},"updated_by":{"id":1,"firstname":"Jack","lastname":"Keadex","username":null},"created_at":"2020-09-26T21:12:01.804Z","updated_at":"2020-10-03T23:13:25.782Z","features":[{"id":3,"title":"Typescript + SCSS","description":"Mainly languages used to build Keadex Battisti.","codeSnippet":[]},{"id":4,"title":"Bootstrap 4 + MDB React","description":"Frameworks for building a responsive, mobile-first site, with Material Components.<br/><br/>\n\nReferences: <br/>\n<ul>\n  <li><a href=\"https://mdbootstrap.com/docs/react/\" target=\"_blank\">MDB React</a></li>\n  <li><a href=\"https://getbootstrap.com/docs/4.4/getting-started/introduction/\" target=\"_blank\">Bootstrap 4</a></li>\n</ul>","codeSnippet":[]},{"id":6,"title":"Next.js","description":"Keadex Battisti is based on Next.js in order to combine Client Side Rendering (CSR), Server Side Rendering (SSR) and Static Site Generation (SSG).<br/><br/>\n\nReferences: <br/>\n<ul>\n  <li><a href=\"https://nextjs.org/\" target=\"_blank\">Next.js</a></li>\n</ul>","codeSnippet":[]},{"id":5,"title":"Styled Components","description":"styled-components utilises tagged template literals to style components.<br/>\n\nIt removes the mapping between components and styles. This means that when you're defining your styles, you're actually creating a normal React component, that has your styles attached to it.<br/><br/>\n\nReferences: <br/>\n<ul>\n  <li><a href=\"https://styled-components.com/\" target=\"_blank\">Styled Components</a></li>\n</ul>","codeSnippet":[{"id":3,"filePath":"/packages/frontend/src/components/header-software-engineer/header-software-engineer.tsx","description":"","code":"const EngineerImg:any = styled.img<any>`\n  left: ${(props)=>(props.swStackWidth)?\"calc(50% - \" + (props.swStackWidth/2) + \"px)\":\"0px\"}\n`;\n \npublic render() {\n    //...\n    return (\n      //...\n      <EngineerImg id=\"engineer\" className={`animate__animated animate__fadeIn ${styles[\"header-sw-eng__engineer\"]}`} src={engineer} alt  =\"Software Engineer\" height=\"80px\" swStackWidth={(this.swStackRef.current)?this.swStackRef.current.offsetWidth:\"0\"} />\n      //...\n    );\n}","language":"tsx","fileLink":null}]},{"id":7,"title":"Redux","description":"Redux is a predictable state container for JavaScript apps.<br/><br/>\n\nIt helps you write applications that behave consistently, run in different environments (client, server, and native), and are easy to test<br/><br/>\n\nKeadex Battisti uses the following libraries to integrate Redux:<br/>\n<ul>\n  <li><a href=\"https://react-redux.js.org/\" target=\"_blank\">react-redux</a>: React bindings for React</li>\n  <li><a href=\"https://redux-actions.js.org/\" target=\"_blank\">redux-actions</a>: a utility belt for FSA-compliant actions in Redux. With helpers for both handling and creating actions it makes working with an FSA in Redux easier.</li>\n  <li><a href=\"https://github.com/reduxjs/redux-thunk\" target=\"_blank\">react-redux</a>: thunks are the recommended middleware for basic Redux side effects logic, including complex synchronous logic that needs access to the store, and simple async logic like AJAX requests.</li>\n<li><a href=\"https://github.com/kirill-konshin/next-redux-wrapper\" target=\"_blank\">Redux Wrapper for Next.js</a>: a HOC that brings Next.js and Redux together. It automatically creates the store instances for you and makes sure they all have the same state.</li>\n</ul> ","codeSnippet":[{"id":4,"filePath":"/packages/frontend/src/core/store/reducers/app.reducer.tsx","description":"<u>redux-actions example</u>:","code":"export const { setIsAppInitialized } = createActions({\n  SET_IS_APP_INITIALIZED: (isAppInitialized) => ({isAppInitialized: isAppInitialized}),\n  //...\n});\n\nexport const appReducer = handleActions<IAppState, AnyAction>(\n  {\n    [setIsAppInitialized.toString()]: (state, action) => {\n      return { ...state, isAppInitialized: action.payload.isAppInitialized};\n    }\n  },\n  getDefaultAppState()\n);","language":"typescript","fileLink":null},{"id":5,"filePath":"/packages/frontend/src/pages/about-me/index.tsx","description":"<u>Redux Wrapper for Next.js example</u>:","code":"export const getStaticProps: GetStaticProps = wrapper.getStaticProps(\n  async ({store}) => {\n    //...\n    return {\n      props:{\n        \n      },\n      revalidate: DEFAULT_REVALIDATE_SECONDS\n    }\n  }\n);","language":"typescript","fileLink":null}]},{"id":8,"title":"React Intl","description":"Library for the internationalization of the application.<br/><br/>\n\nReferences: <br/>\n<ul>\n  <li><a href=\"https://formatjs.io/docs/react-intl/\" target=\"_blank\">React Intl</a></li>\n</ul>","codeSnippet":[]},{"id":9,"title":"Recharts","description":"Quickly build charts with decoupled, reusable React components.<br/><br/>\n\nReferences: <br/>\n<ul>\n  <li><a href=\"https://recharts.org/en-US/\" target=\"_blank\">Recharts</a></li>\n</ul>","codeSnippet":[{"id":6,"filePath":"/packages/frontend/src/components/experience/experience.tsx","description":null,"code":"<ResponsiveContainer>\n\t<PieChart>\n\t\t<Pie\n\t\t\tdataKey=\"usagePercentage\"\n\t\t\tdata={this.props.experience.skills.sort((a, b) => {\n\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t})}\n\t\t\tcx={\"50%\"}\n\t\t\tcy={\"50%\"}\n\t\t\tinnerRadius={\"20%\"}\n\t\t\touterRadius={\"100%\"}\n\t\t\tpaddingAngle={0}\n\t\t\tstroke=\"#2C2C2C\"\n\t\t\tstrokeWidth=\"0.2px\"\n\t\t>\n\t\t\t{this.props.experience.skills.map((entry, index) => (\n\t\t\t\t<Cell fill={this.colors[index]} key={index} />\n\t\t\t))}\n\t\t</Pie>\n\t\t<Tooltip />\n\t</PieChart>\n</ResponsiveContainer>;","language":"tsx","fileLink":null}]},{"id":10,"title":"Force directed graph","description":"The basic idea of force-directed algorithm is that a graph is simulated by a physical system of attractive spring forces along edges and repulsive forces emanating from vertices. Then vertices will move along the direction of the combined force.<br/><br/>\n\nKeadex Battisti is integrated with <a href=\"https://github.com/vasturiano/react-force-graph\" target=\"_blank\">react-force-graph</a> in order to implement a force directed graph,","codeSnippet":[{"id":7,"filePath":"/packages/frontend/src/components/education/education.tsx","description":null,"code":"<ForceGraph2D\n\tref={forceGraphRef}\n\tgraphData={props.experienceGraph}\n\tlinkColor={() => \"#fff\"}\n\tnodeAutoColorBy=\"group\"\n\tenableNodeDrag={true}\n\tenableZoomPanInteraction={false}\n\tnodeCanvasObjectMode={() => \"replace\"}\n\tnodeCanvasObject={(node: any, ctx: any, globalScale: any) => {\n\t\tif (\n\t\t\tnode != undefined &&\n\t\t\tnode.id != undefined &&\n\t\t\tnode.x != undefined &&\n\t\t\tnode.y != undefined\n\t\t) {\n\t\t\tif (\n\t\t\t\tnode.id == \"occipital-lobe\" ||\n\t\t\t\tnode.id == \"temporal-lobe\" ||\n\t\t\t\tnode.id == \"parietal-lobe\" ||\n\t\t\t\tnode.id == \"cerebellum\" ||\n\t\t\t\tnode.id == \"frontal-lobe\"\n\t\t\t) {\n\t\t\t\tlet percentage = 85;\n\t\t\t\tif (breakpoints!.xs && breakpoints!.sm) percentage = 75;\n\t\t\t\tconst image = brain.current.get(node.id);\n\t\t\t\tif (image) {\n\t\t\t\t\tconst width = image.width - Math.ceil((image!.width * percentage) / 100);\n\t\t\t\t\tconst height = image.height * (width / image!.width);\n\t\t\t\t\tctx.drawImage(\n\t\t\t\t\t\timage,\n\t\t\t\t\t\tnode.x - width / 2,\n\t\t\t\t\t\tnode.y - height / 2,\n\t\t\t\t\t\twidth,\n\t\t\t\t\t\theight\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst fontSize = 12 / globalScale;\n\t\t\t\tctx.font = `${fontSize}px \\\"Perfect DOS VGA 437\\\"`;\n\t\t\t\tctx.textAlign = \"center\";\n\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\tctx.fillStyle = node.color;\n\t\t\t\tvar lines = node.name.split(\"\\n\");\n\t\t\t\tvar lineheight = 8;\n\t\t\t\tfor (var i = 0; i < lines.length; i++)\n\t\t\t\t\tctx.fillText(lines[i], node.x, node.y + i * lineheight);\n\t\t\t}\n\t\t}\n\t}}\n/>;","language":"tsx","fileLink":null}]},{"id":11,"title":"CSS Animations","description":"Pure CSS animations with <a href=\"https://animate.style/\" target=\"_blank\">animate.css</a> library.","codeSnippet":[{"id":8,"filePath":"/packages/frontend/src/components/header-architect/header-architect.tsx","description":"","code":"<div id=\"game-over\" className={\"animate__animated animate__fadeOut\"}>\n    <span>Game Over</span>\n</div>","language":"tsx","fileLink":null}]},{"id":12,"title":"GreenSock Animation Platform","description":"<a href=\"https://github.com/greensock/GSAP\" target=\"_blank\">GSAP</a> is a JavaScript library for building high-performance animations that work in every major browser. Animate CSS, SVG, canvas, React, Vue, WebGL, colors, strings, motion paths, generic objects...anything JavaScript can touch!<br/><br/>\n\nIn order to integrate GSAP with React components, Keadex Battisti integrates <a href=\"https://github.com/bitworking/react-gsap\" target=\"_blank\">react-gsap</a>.","codeSnippet":[{"id":9,"filePath":"/packages/frontend/src/components/header-mobile-developer/header-mobile-developer.tsx","description":null,"code":"import { TimelineMax } from 'gsap';\n\nclass HeaderMobileDeveloper extends React.Component<ExperienceProps> {\n\n  private tlBotAndroid:TimelineMax|undefined;\n\n  constructor(props:ExperienceProps){\n    super(props);\n  }\n\n  componentDidMount(){\n    this.tlBotAndroid = new TimelineMax();\n    this.initTimeline();\n  }\n\n  private initTimeline(){    \n    this.tlBotAndroid!.to(\"#android-bot\", 1, {left:\"26%\"});\n    this.tlBotAndroid!.to(\"#apple-logo\", 1, {left:\"26%\"}, \"-=1\");\n    this.tlBotAndroid!.to(\"#android-bot\", 0.5, {bottom:\"90px\"}, \"-=0.5\");\n    this.tlBotAndroid!.to(\"#android-bot\", 0.5, {bottom:\"19px\"});\n    this.tlBotAndroid!.to(\"#apple-logo\", 0.5, {height:\"5px\"}, \"-=0.4\");\n    this.tlBotAndroid!.pause()\n  }\n  //...\n}","language":"tsx","fileLink":null}]},{"id":13,"title":"Animation on scroll","description":"In order to add some animation when the user scrolls the pages, Keadex Battisti integrates the following libraries:<br/>\n<ul>\n  <li><a href=\"https://github.com/bitworking/react-scrollmagic\" target=\"_blank\">react-scrollmagic</a>: it lets you use the <a href=\"http://scrollmagic.io/\" target=\"_blank\">ScrollMagic</a> library in React in a fully declarative way. It abstracts away the direct use of the ScrollMagic classes ScrollMagic.Controller and ScrollMagic.Scene.</li>\n  <li><a href=\"https://dbramwell.github.io/react-animate-on-scroll/#home\" target=\"_blank\">react-animate-on-scroll</a>: React component to animate elements on scroll with <a href=\"https://animate.style/\" target=\"_blank\">animate.css</a></li>\n</ul>\nWhy two libraries to do the same thing? Because ScrollMagic is a complex and heavy library and some pages of Keadex Battisti require a very simple animation on scroll. react-animate-on-scroll is easier and lighter to integrate.\n","codeSnippet":[{"id":10,"filePath":"/packages/frontend/src/pages/about-me/index.tsx","description":"<u>react-scrollmagic example</u>:","code":"<Controller\n\tcontainer={\"#\" + PAGE_ROOT_ID}\n\tglobalSceneOptions={{ triggerHook: 0 }}\n>\n\t{/* ... */}\n\t{/* PROGRESS BAR */}\n\t<Scene duration={0} pin enabled={true}>\n\t\t{(progress: any, event: any) => {\n\t\t\tprogress = this.onSceneEvent(-1, progress, event);\n\t\t\treturn (\n\t\t\t\t<div className={`${styles[\"about-me__progress-bar\"]}`}>\n\t\t\t\t\t<ProgressBar />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}}\n\t</Scene>\n\t{/* ... */}\n</Controller>;","language":"tsx","fileLink":null},{"id":11,"filePath":"/packages/frontend/src/pages/index.tsx","description":"<u>react-animate-on-scroll example</u>:","code":"<ScrollAnimation\n\tscrollableParentSelector={\"#\" + PAGE_ROOT_ID}\n\tanimateIn=\"animate__fadeInUp\"\n\toffset={0}\n\tanimateOnce\n>\n\t<h1 className=\"text-brand1-dark mt-5 mt-md-0\">\n\t\t<FormattedMessage id=\"HOME.WHY_KEADEX\" />\n\t</h1>\n</ScrollAnimation>;","language":"tsx","fileLink":null}]},{"id":14,"title":" SVG paths interpolation and animation","description":"Let's say you want to animate between two SVG paths or canvas shapes in a visualization. If you plug in their coordinates or their path strings to something like d3.transition(), it might work if the shapes correspond to each other really well - for example, turning a triangle into a different triangle. But once your shapes don't really correspond, you'll get unpredictable results with weird inversions and sudden jumps.<br/><br/>\n\nKeadex Battisti integrates <a href=\"https://github.com/veltman/flubber\" target=\"_blank\">flubber</a>. The goal of this library is to provide a best-guess interpolation for any two arbitrary shapes (or collections of shapes) that results in a reasonably smooth animation, without overthinking it.","codeSnippet":[{"id":12,"filePath":"/packages/frontend/src/helper/animation-helper.ts","description":null,"code":"import { interpolateAll } from 'flubber';\n\nexport function generateMorphSVGTimelines(svgPathRef:RefObject<SVGPathElement>[], subjects:MorphSVGSubject[], options?:MorphSVGOptions) : Map<string, MorphSVGTimeline> {\n  //...\n  let interpolator:((t:number)=>string)[] = interpolateAll(subject.fromSvgPath.path, subject.toSvgPath.path, { maxSegmentLength: 25 });\n  //...\n}","language":"tsx","fileLink":null}]},{"id":15,"title":"SVG interaction","description":"In order to interact with an SVG you need to inject it into the DOM and attach some events (e.g. onClick).<br/>\n<a href=\"https://github.com/tanem/react-svg\" target=\"_blank\">react-svg</a> does the heavy lifting for you by delegating the process to <a href=\"https://github.com/tanem/svg-injector\" target=\"_blank\">@tanem/svg-injector</a>, which makes an AJAX request for the SVG and then swaps in the SVG markup inline. The async loaded SVG is also cached, so multiple uses of an SVG only require a single server request.","codeSnippet":[{"id":13,"filePath":"/packages/frontend/src/components/architecture/architecture.tsx","description":null,"code":"import { ReactSVG } from 'react-svg'\n\nfunction afterInjection(error:Error|null, svg:SVGElement|undefined):void{\n  if (svg && props.modules){\n    //...\n    let svgElem = svg.querySelector(\"#\"+module.moduleId);\n    if (svgElem){\n      svgElem.classList.add(styles[\"architecture__module\"]);\n      svgElem.addEventListener(\"click\", ()=>{\n        //...\n      });\n    }\n  }\n}\n\n//...\n\n<ReactSVG src={props.chalkboard} renumerateIRIElements={false} afterInjection={afterInjection} className={styles[\"architecture__chalkboard\"]}/>","language":"tsx","fileLink":null}]},{"id":16,"title":"Video Player","description":"Keadex Battisti integrates <a href=\"https://github.com/CookPete/react-player\" target=\"_blank\">ReactPlayer</a>, a React component for playing a variety of URLs, including file paths, YouTube, Facebook, Twitch, SoundCloud, Streamable, Vimeo, Wistia, Mixcloud, and DailyMotion.","codeSnippet":[{"id":14,"filePath":"/packages/frontend/src/pages/index.tsx","description":null,"code":"import ReactPlayer from 'react-player'\n\n//...\n<ReactPlayer url='https://youtu.be/7W7hEUGtv4U' width=\"100%\" className=\"mb-5 mb-md-0\"/>\n//...","language":"tsx","fileLink":null}]}],"logo":{"id":19,"name":"keadex-battisti.png","alternativeText":"","caption":"","width":2274,"height":408,"formats":{"thumbnail":{"name":"thumbnail_keadex-battisti.png","hash":"thumbnail_keadex_battisti_4560abf452","ext":".png","mime":"image/png","width":245,"height":44,"size":4.97,"path":null,"url":"/uploads/thumbnail_keadex_battisti_4560abf452.png"},"large":{"name":"large_keadex-battisti.png","hash":"large_keadex_battisti_4560abf452","ext":".png","mime":"image/png","width":1000,"height":179,"size":20.23,"path":null,"url":"/uploads/large_keadex_battisti_4560abf452.png"},"medium":{"name":"medium_keadex-battisti.png","hash":"medium_keadex_battisti_4560abf452","ext":".png","mime":"image/png","width":750,"height":135,"size":15.06,"path":null,"url":"/uploads/medium_keadex_battisti_4560abf452.png"},"small":{"name":"small_keadex-battisti.png","hash":"small_keadex_battisti_4560abf452","ext":".png","mime":"image/png","width":500,"height":90,"size":10.13,"path":null,"url":"/uploads/small_keadex_battisti_4560abf452.png"}},"hash":"keadex_battisti_4560abf452","ext":".png","mime":"image/png","size":12.99,"url":"/uploads/keadex_battisti_4560abf452.png","previewUrl":null,"provider":"local","provider_metadata":null,"created_by":1,"updated_by":1,"created_at":"2020-09-26T21:11:58.034Z","updated_at":"2020-09-26T21:11:58.081Z"}},{"id":2,"moduleId":"keadex-server","name":"Keadex Server","description":"Keadex infrastructure is basically based on a single VPS on which are installed all the Keadex modules.<br/><br/>\n\n<strong><span class=\"text-brand1\">!!Attention!!</span> This is not a good solution. A good infrastructure is made up of at least one machine for each environment (DEV, TEST and PROD), load balancers, content cache, reverse proxy (e.g. NGINX), an API gateway (Netflix Zuul), a container platform (e.g. Openshift), etc.</strong><br/><br/>\n\nUnfortunately not of all these elements are free and in order to have a good infrastructure you need to put the money.<br/><br/>\n\nThe mission of Keadex is to produce an open source <span class=\"text-brand1\">software</span> platform and at the moment is not planned an economic investment in the infrastructure.<br/><br/>\n\n<strong>This affects the performance and the availability of the <span class=\"text-brand1\">live demo</span> (<a href=\"https://keadex.io\" target=\"_blank\">keadex.io</a>). So, please, don't judge them but focus on the software solution :) </strong>","roadmap":null,"type":"InfrastructureArchitecture","created_by":{"id":1,"firstname":"Jack","lastname":"Keadex","username":null},"updated_by":{"id":1,"firstname":"Jack","lastname":"Keadex","username":null},"created_at":"2020-09-27T22:59:06.023Z","updated_at":"2020-09-28T00:00:44.068Z","features":[],"logo":null}]